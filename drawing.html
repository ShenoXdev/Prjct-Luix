<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø±Ø³Ù… Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: #f5f5f5;
  font-family: sans-serif;
}

/* Ø§Ù„ÙƒØ§Ù†ÙØ³ */
canvas {
  width: 100vw;
  height: 100vh;
  background: #fffdf9;
  display: block;
  touch-action: none;
}

/* Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¹Ø§Ø¦Ù… */
.toolbar {
  position: fixed;
  top: 50%;
  left: 10px;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 10px;
  z-index: 100;
}

/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
.tool-btn {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: white;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 3px 6px rgba(0,0,0,0.15);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}
.tool-btn:hover {
  transform: scale(1.05);
  background: #f0f0f0;
}
.tool-btn:active {
  transform: scale(0.95);
}

/* Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª */
.tool-btn img {
  width: 24px;
  height: 24px;
}

/* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ø­Ø¬Ù… */
.color-picker, .size-picker {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: none;
  padding: 0;
  cursor: pointer;
  box-shadow: 0 3px 6px rgba(0,0,0,0.15);
}
.size-picker {
  background: white;
  font-size: 14px;
}

/* Ù…Ø¤Ø´Ø± Ø§Ù„Ø²ÙˆÙ… */
.zoom-info {
  position: fixed;
  bottom: 10px;
  left: 10px;
  background: rgba(0,0,0,0.65);
  color: white;
  padding: 5px 10px;
  border-radius: 8px;
  font-size: 13px;
}
</style>
</head>
<body>

<!-- Ø§Ù„ÙƒØ§Ù†ÙØ³ -->
<canvas id="canvas"></canvas>

<!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª -->
<div class="toolbar">
  <input type="color" id="color" class="color-picker" title="Ù„ÙˆÙ† Ø§Ù„Ù‚Ù„Ù…">
  <input type="number" id="size" class="size-picker" value="5" min="1" max="50" title="Ø­Ø¬Ù… Ø§Ù„Ù‚Ù„Ù…">
  <button class="tool-btn" id="undo" title="ØªØ±Ø§Ø¬Ø¹">
    âŸ²
  </button>
  <button class="tool-btn" id="redo" title="Ø¥Ø¹Ø§Ø¯Ø©">
    âŸ³
  </button>
  <button class="tool-btn" id="clear" title="Ù…Ø³Ø­">
    ğŸ—‘
  </button>
  <button class="tool-btn" id="save" title="Ø­ÙØ¸">
    ğŸ’¾
  </button>
</div>

<div class="zoom-info" id="zoomInfo">Zoom: 100%</div>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

let drawing = false;
let color = document.getElementById('color').value;
let size = document.getElementById('size').value;
let zoom = 1;

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

canvas.addEventListener('mousedown', startDraw);
canvas.addEventListener('touchstart', startDraw, {passive: false});
canvas.addEventListener('mousemove', draw);
canvas.addEventListener('touchmove', draw, {passive: false});
canvas.addEventListener('mouseup', endDraw);
canvas.addEventListener('touchend', endDraw);

function startDraw(e) {
  drawing = true;
  ctx.beginPath();
  ctx.moveTo(getX(e), getY(e));
}

function draw(e) {
  if (!drawing) return;
  ctx.lineWidth = size;
  ctx.strokeStyle = color;
  ctx.lineCap = 'round';
  ctx.lineTo(getX(e), getY(e));
  ctx.stroke();
}

function endDraw() {
  drawing = false;
  ctx.closePath();
}

function getX(e) {
  return e.clientX || e.touches[0].clientX;
}
function getY(e) {
  return e.clientY || e.touches[0].clientY;
}

// Ø§Ù„Ø£Ø¯ÙˆØ§Øª
document.getElementById('color').addEventListener('input', e => color = e.target.value);
document.getElementById('size').addEventListener('input', e => size = e.target.value);

document.getElementById('clear').addEventListener('click', () => {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
});

document.getElementById('save').addEventListener('click', () => {
  const link = document.createElement('a');
  link.download = 'drawing.png';
  link.href = canvas.toDataURL();
  link.click();
});

document.getElementById('undo').addEventListener('click', () => alert("Undo ØºÙŠØ± Ù…Ø¶Ø§Ù Ù‡Ù†Ø§ Ù„ÙƒÙ† Ù…Ù…ÙƒÙ† Ø£Ø¶ÙŠÙÙ‡ Ø¨Ø³Ù‡ÙˆÙ„Ø©"));
document.getElementById('redo').addEventListener('click', () => alert("Redo ØºÙŠØ± Ù…Ø¶Ø§Ù Ù‡Ù†Ø§ Ù„ÙƒÙ† Ù…Ù…ÙƒÙ† Ø£Ø¶ÙŠÙÙ‡ Ø¨Ø³Ù‡ÙˆÙ„Ø©"));
</script>

</body>
</html>
